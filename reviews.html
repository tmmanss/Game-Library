<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="page.reviews.title">User Reviews - Nitro 5</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/reviews.css">
  <script src="js/theme.js"></script>
  <script src="js/auth.js" defer></script>
  <script src="js/user-actions.js" defer></script>
  <script src="js/auth-modal.js" defer></script>
  <script src="js/i18n.js" defer></script>
</head>
<body class="grid-layout">
<header class="grid-header">
  <div class="logo">
    <a href="index.html">
      <img src="images/game_512.png" alt="icon" width="64" class="circular-logo">
    </a>
  </div>

  <!-- –ë—É—Ä–≥–µ—Ä -->
  <button class="burger" id="burger" aria-label="Toggle menu">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <nav id="navbar">
    <ul>
      <li><a href="index.html" data-i18n="nav.home">Home</a></li>
      <li><a href="store.html" data-i18n="nav.store">Store</a></li>
      <li><a href="about.html" data-i18n="nav.about">About</a></li>
      <li><a href="library.html" data-i18n="nav.library">My Library</a></li>
      <li><a href="gallery.html" data-i18n="nav.gallery">Gallery</a></li>
      <li><a href="reviews.html" class="active" data-i18n="nav.reviews">Reviews</a></li>
      <li><a href="ratings.html" data-i18n="nav.ratings">Ratings</a></li>
      <li><a href="platform.html" data-i18n="nav.platform">Platform</a></li>
    </ul>

    <div class="nav-actions">
      <div class="lang-select">
        <label for="langSelect" class="form-label" style="margin:0;">
          <span data-i18n="ui.language">Language:</span>
        </label>
        <select id="langSelect" class="form-select form-select-sm" style="width:auto;">
          <option value="en">English</option>
          <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          <option value="kk">“ö–∞–∑–∞“õ—à–∞</option>
        </select>
      </div>
      <button id="themeToggle" class="btn-mini" type="button" title="Toggle theme">üåô</button>
      <button id="openPopup" class="btn-mini sign-in-btn" type="button" title="Sign in" data-i18n="ui.signin">Sign in</button>
    </div>
  </nav>
</header>


  <main class="grid-main">
    <section class="reviews-section">
      <h1 data-i18n="reviews.title">User Reviews</h1>
      <p class="subtitle" data-i18n="reviews.subtitle">See what gamers are saying about Nitro 5</p>

      <div class="review-form-container">
        <h2 data-i18n="reviews.write">Write a Review</h2>
        <form id="reviewForm" class="review-form">
          <div class="field">
            <label for="reviewName" data-i18n="reviews.form.name">Your Name</label>
            <input type="text" id="reviewName" required>
          </div>
          <div class="field">
            <label for="reviewGame" data-i18n="reviews.form.game">Game</label>
            <select id="reviewGame" required>
              <option value="cs2">Counter-Strike 2</option>
              <option value="rdr2">Red Dead Redemption 2</option>
              <option value="detroit">Detroit: Become Human</option>
              <option value="tlou">The Last of Us</option>
            </select>
          </div>
          <div class="field">
            <label for="reviewText" data-i18n="reviews.form.review">Your Review</label>
            <textarea id="reviewText" rows="4" required></textarea>
          </div>
          <button type="submit" class="btn primary" data-i18n="reviews.form.submit">Submit Review</button>
        </form>
      </div>

      <div class="reviews-container" id="reviewsList">
        <div class="review-card">
          <div class="review-header">
            <h3>John D.</h3>
            <span class="review-game">CS2</span>
          </div>
          <p class="review-text" data-i18n="reviews.sample1">"CS2 is amazing! The graphics are insane!"</p>
        </div>

        <div class="review-card">
          <div class="review-header">
            <h3>Anna K.</h3>
            <span class="review-game">RDR2</span>
          </div>
          <p class="review-text" data-i18n="reviews.sample2">"RDR2 story mode kept me hooked for hours."</p>
        </div>

        <div class="review-card">
          <div class="review-header">
            <h3>Mike S.</h3>
            <span class="review-game">Detroit</span>
          </div>
          <p class="review-text" data-i18n="reviews.sample3">"Detroit offers an incredible narrative experience."</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="grid-footer">
    <p>&copy; 2024 Nitro 5 Gaming Platform</p>
    <p>Group: SE-2409 | Mansur Tasbolat & Eraly Zalel</p>
    <p id="currentTime" class="footer-time"></p>
  </footer>

  <script>
    function updateFooterTime() {
      const timeEl = document.getElementById('currentTime');
      if (timeEl) {
        const now = new Date();
        timeEl.textContent = now.toLocaleString('en-US', { 
          month: 'short', day: '2-digit', year: 'numeric',
          hour: '2-digit', minute: '2-digit', second: '2-digit' 
        });
      }
    }
    updateFooterTime();
    setInterval(updateFooterTime, 1000);

    document.getElementById('reviewForm')?.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = document.getElementById('reviewName').value;
      const game = document.getElementById('reviewGame').value;
      const text = document.getElementById('reviewText').value;
      
      const review = { name, game, text, date: new Date().toISOString() };
      const reviews = JSON.parse(localStorage.getItem('nitro5_reviews') || '[]');
      reviews.unshift(review);
      localStorage.setItem('nitro5_reviews', JSON.stringify(reviews));
      
      alert('Review submitted successfully!');
      e.target.reset();
      loadReviews();
    });

    function loadReviews() {
      const reviews = JSON.parse(localStorage.getItem('nitro5_reviews') || '[]');
      const container = document.getElementById('reviewsList');
      reviews.forEach(review => {
        const card = document.createElement('div');
        card.className = 'review-card';
        card.innerHTML = `
          <div class="review-header">
            <h3>${review.name}</h3>
            <span class="review-game">${review.game.toUpperCase()}</span>
          </div>
          <p class="review-text">${review.text}</p>
          <small>${new Date(review.date).toLocaleDateString()}</small>
        `;
        container.appendChild(card);
      });
    }
    loadReviews();
  </script>
    <script src="js/app.js"></script>
</body>
</html>
